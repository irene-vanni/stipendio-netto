<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Calcolatore Stipendio Netto</title>

    <!-- Stile semplice -->

<style>
  /* 1) Box model coerente: la width include padding e border */
  *,
  *::before,
  *::after {
    box-sizing: border-box;
  }

  body {
    font-family: Arial, sans-serif;
    max-width: 600px;
    margin: 40px auto;
    padding: 20px;
    line-height: 1.5;
  }

  h1 { text-align: center; }

  .box {
    padding: 20px;
    border: 1px solid #ccc;
    border-radius: 8px;
  }

  label { font-weight: bold; }

  /* 2) Stili uniformi per input e button */
  .box input,
  .box button {
    display: block;
    width: 100%;
    padding: 12px;
    font: inherit;            /* stessa famiglia e size del body */
    line-height: 1.2;         /* uniforme su entrambi */
    border: 1px solid #ccc;   /* stesso bordo: evita differenze visive */
    border-radius: 6px;       /* stesso raggio */
  }

  /* 3) Rimuovi appearance nativa degli input (specie per type=number) */
  .box input {
    -webkit-appearance: none;
    appearance: none;
    margin: 6px 0 12px 0;     /* come volevi: spazio sopra e sotto */
    background: #fff;
    color: #000;
  }

  /* Rimuovi le freccette dello spinner su Chrome/Safari */
  input[type=number]::-webkit-outer-spin-button,
  input[type=number]::-webkit-inner-spin-button {
    -webkit-appearance: none;
    margin: 0;
  }
  /* Rimuovi spinner su Firefox */
  input[type=number] {
    -moz-appearance: textfield;
  }

  /* 4) Stile del bottone: stesso box, diverso bg */
  .box button {
    cursor: pointer;
    background: #0a5;       /* esempio colore: verde */
    color: #fff;
    border-color: #0a5;     /* bordo coerente col background */
  }

  .results {
    margin-top: 20px;
    background: #f9f9f9;
    padding: 15px;
    border-radius: 8px;
  }
</style>

    <!-- Brython -->
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/brython@3.10.6/brython.min.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/brython@3.10.6/brython_stdlib.js"></script>
</head>
<body onload="brython()">

<h1>Calcolatore Stipendio Netto</h1>
<div class="box">
    <label for="ral">Inserisci la RAL (€):</label>
    <input type="number" id="ral" placeholder="es. 35000" />
    <button id="calcola_btn">Calcola</button>
</div>


<div id="output" class="results"></div>

<script type="text/python">
from browser import document

def calcola(ev):
    try:
        ral = float(document['ral'].value)
    except:
        document['output'].html = '<p style="color:red">Inserisci un valore valido.</p>'
        return

    # Contributi dipendente (stima semplificata)
    contributi = ral * 0.0919
    imponibile_fiscale = ral - contributi

    # IRPEF per scaglioni
    def irpef(imponibile):
        if imponibile <= 28000:
            return imponibile * 0.23
        elif imponibile <= 50000:
            return 28000*0.23 + (imponibile-28000)*0.35
        else:
            return 28000*0.23 + (50000-28000)*0.35 + (imponibile-50000)*0.43

    irpef_tot = irpef(imponibile_fiscale)

    # Addizionali Milano
    addizionali = imponibile_fiscale * 0.016

    # Totale tasse
    tasse = contributi + irpef_tot + addizionali

    # Netto
    netto_annuale = ral - tasse
    netto_mensile = netto_annuale / 13

    # Mostra risultati
    document['output'].html = f'''
    <h3>Risultati</h3>
    <p><strong>Netto annuale:</strong> € {netto_annuale:,.2f}</p>
    <p><strong>Netto mensile:</strong> € {netto_mensile:,.2f}</p>
    <p><strong>Tasse totali:</strong> € {tasse:,.2f}</p>
    <ul>
        <li>Contributi INPS: € {contributi:,.2f}</li>
        <li>IRPEF: € {irpef_tot:,.2f}</li>
        <li>Addizionali: € {addizionali:,.2f}</li>
    </ul>
    '''

document['calcola_btn'].bind('click', calcola)
</script>

</body>
</html>
