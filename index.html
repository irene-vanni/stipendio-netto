<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Calcolatore Stipendio Netto - Brython</title>


<!-- Stile semplice -->
<style>
body {
font-family: Arial, sans-serif;
max-width: 600px;
margin: 40px auto;
padding: 20px;
line-height: 1.5;
}
h1 {
text-align: center;
}
.box {
padding: 20px;
border: 1px solid #ccc;
border-radius: 8px;
}
label {
font-weight: bold;
}
input {
width: 100%;
padding: 8px;
margin-top: 6px;
margin-bottom: 12px;
}
button {
width: 100%;
padding: 12px;
font-size: 16px;
cursor: pointer;
}
.results {
margin-top: 20px;
background: #f9f9f9;
padding: 15px;
border-radius: 8px;
}
</style>


<!-- Brython -->
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/brython@3.10.6/brython.min.js"></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/brython@3.10.6/brython_stdlib.js"></script>
</head>
<body onload="brython()">


<h1>Calcolatore Stipendio Netto</h1>
<div class="box">
<label for="ral">Inserisci la RAL (€):</label>
<input type="number" id="ral" placeholder="es. 35000" />
<button id="calcola_btn">Calcola</button>
</div>


<div id="output" class="results"></div>


<script type="text/python">
from browser import document


def calcola(ev):
try:
ral = float(document['ral'].value)
except:
document['output'].html = '<p style="color:red">Inserisci un valore valido.</p>'
return


# Contributi dipendente (stima semplificata)
contributi = ral * 0.0919
imponibile_fiscale = ral - contributi


# IRPEF per scaglioni
def irpef(imponibile):
if imponibile <= 28000:
return imponibile * 0.23
elif imponibile <= 50000:
return 28000*0.23 + (imponibile-28000)*0.35
else:
return 28000*0.23 + (50000-28000)*0.35 + (imponibile-50000)*0.43


irpef_tot = irpef(imponibile_fiscale)


# Addizionali Milano
addizionali = imponibile_fiscale * 0.016


# Totale tasse
tasse = contributi + irpef_tot + addizionali


# Netto
netto_annuale = ral - tasse
netto_mensile = netto_annuale / 12


# Mostra risultati
document['output'].html = f'''
<h3>Risultati</h3>
<p><strong>Netto annuale:</strong> € {netto_annuale:,.2f}</p>
<p><strong>Netto mensile:</strong> € {netto_mensile:,.2f}</p>
<p><strong>Tasse totali:</strong> € {tasse:,.2f}</p>
<ul>
<li>Contributi INPS: € {contributi:,.2f}</li>
<li>IRPEF: € {irpef_tot:,.2f}</li>
<li>Addizionali: € {addizionali:,.2f}</li>
</ul>
'''


document['calcola_btn'].bind('click', calcola)
</script>


</body>
</html>
